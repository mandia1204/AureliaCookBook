<template>
  <h1>${title}</h1>
  <div class="row">
    <form class="col s12">
      <div class="row">
        <div class="input-field col s12">
          <input  id="name" type="text" value.bind="recipe.name" class="validate">
          <label for="name" class="active">Name</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input  id="chef" type="text" value.bind="recipe.chef" class="validate">
          <label for="chef" class="active">Chef</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <select id="category" md-select value.two-way="recipe.category">
            <option repeat.for="category of categories">
              ${category.name}
            </option>
          </select>
          <label for="category">Category</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input  id="url" type="text" value.bind="recipe.url" class="validate">
          <label for="url" class="active">Image URL</label>
        </div>
      </div>
      <div class="row">
        <div class="col s12">
          <h3>Ingredients (${recipe.ingredients.length})</h3>

          <require from="./ingredient/addIngredient"></require>
          <add-ingredient add.call="addIngredient(name)"></add-ingredient>

          <require from="./ingredient/ingredientList"></require>
          <ingredient-list delete.call="deleteIngredient(index)" update.call="updateIngredient(index,value)"
            ingredients.bind="recipe.ingredients"></ingredient-list>

        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input type="checkbox" id="recommended" checked.bind="recipe.recommended" />
          <label for="recommended" class="active">Recommended?</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <a href="#/${recipe.category}" class="waves-effect waves-light btn"><i class="material-icons left">arrow_back</i>Back</a>
          <a click.delegate="callSave()" class="waves-effect waves-light btn"><i class="material-icons left">save</i>Save</a>
        </div>
      </div>
    </form>
  </div>
</template>
